<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />

  <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />

  <title>Range Slider</title>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
  <link rel="stylesheet" href="./dist/styles.css" />
  <link rel="stylesheet" href="./dist/currency-range-slider.css" />
</head>

<body>
  <nav class="navbar navbar-dark bg-dark">
    <div class="container">
      <div class="col-12">
        <span class="navbar-brand mb-0 h1">Currency Range Slider</span>
      </div>
    </div>
  </nav>

  <div class="container">
    <div class="col-12">
      <h3 id="modo-uso">
        <a href="#modo-uso"><i class="fa fa-link"></i></a> Modo de uso
      </h3>
      <p>
        Este componente é dedicado exclusivamente para trabalhar com range de valores monetários positivos.
      </p>
      <h5>Exemplo</h4>
      <pre>var rangeSliderConfig = {
  min: 0,
  max: 100
};

CurrencyRangeSlider('id-elemento', rangeSliderConfig);</pre>
      <div id="modo-uso-range-slider"></div>
    </div>

    <div class="col-12">
      <h3 id="parametro-config">
        <a href="#parametro-config"><i class="fa fa-link"></i></a> Parâmetros de configuração
      </h3>

      <table class="table table-bordered">
        <caption>* obrigatório</caption>

        <thead class="thead-dark">
          <tr>
            <th class="parameters">Parâmetro</th>
            <th class="values">Valor</th>
            <th class="descriptions">Descrição</th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>debounceTime</td>
            <td>number | default: 600</td>
            <td>Tempo de debounce para atualizar slider ao inserir dados no input.</td>
          </tr>

          <tr>
            <td>inputEnter</td>
            <td>boolean | default: false</td>
            <td>Input deixa de usar função de debounce para atualizar slider e passa a atualizar quando o usuário tecla <code>ENTER<code></code>.</td>
          </tr>

          <tr>
            <td>labelPrefix</td>
            <td>string | default: ''</td>
            <td>Texto prefixado nas labels.</td>
          </tr>

          <tr>
            <td>limitToRange</td>
            <td>boolean | default: true</td>
            <td>Caso <code>true</code>, ao informar em um input, um valor maior do que limite definido para o intervalo, este número passa a ser o limite do intervalo. Funciona para valores mínimo e máximo, porém o valor mínimo não assume valor negativo.</td>
          </tr>

          <tr>
            <td>max *</td>
            <td>number</td>
            <td>Limite máximo do intervalo.</td>
          </tr>

          <tr>
            <td>min *</td>
            <td>number</td>
            <td>Limite mínimo do intervalo.</td>
          </tr>

          <tr>
            <td>range</td>
            <td>object | default: {min, max}</td>
            <td>Objeto contendo atributos <code>min</code> e <code>max</code> para atribuir aos valores do intervalo selecionado. Caso não seja passado nenhum valor, o intervalor selecionado será igual aos limites do intervalo.</td>
          </tr>

          <tr>
            <td rowspan="2">valueFormatter</td>
            <td>function</td>
            <td rowspan="2">Função de formatação de valores, usada para formatar o valor número gerado dos calculos para manter o valor no componente e apresentar labels. A função recebe um <code>number</code> e retorna uma <code>string</code>. O valor é mantido como string dentro do componente para não haver problemas de calculos com ponto flutuante.
            </td>
          </tr>

          <tr>
            <td>
              <pre>function defaultValueFormatter(value) {
  if (value == null) {
    return '';
  }
  value = value.toFixed(2);
  return value.replace(/\./, ',');
}</pre>
            </td>
          </tr>

          <tr>
            <td rowspan="2">valueParser</td>
            <td>function</td>
            <td rowspan="2">Função de parser de valores, usada para parsear o valor string mantido pelo componente como <code>string</code> em um <code>number</code>. A função recebe uma <code>string</code> e retorna uma <code>number</code>. A função é usada para parsear os inputs e calcular a posição dos sliders e parsear o valor emitido no evento <code>rangeChange</code>.
            </td>
          </tr>

          <tr>
            <td>
              <pre>function defaultValueParser(value) {
  if (value == null) {
    return 0;
  }
  value = value.replace(/\./g, '');
  value = value.replace(/\,/, '.');
  return +value;
}</pre>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="col-12">
      <h3 id="eventos">
        <a href="#eventos"><i class="fa fa-link"></i></a> Eventos
      </h3>

      <table class="table table-bordered">
        <thead class="thead-dark">
          <tr>
            <th>Evento</th>
            <th>Descrição</th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <th colspan="2" scope="row">Entrada</th>
          </tr>

          <tr>
            <td>destroy</td>
            <td>
              Evento responsável pela "destruição" do componente. Ao chama-lo, o componente remove todos seus eventos registrados no DOM e para de responder à eventos de entrada.
            </td>
          </tr>

          <tr>
            <td>setRange</td>
            <td>
              Evento responsável por passar valor do intervalo desejado programaticamente. Este evento espera receber um <code>CustomEvent</code> com um objeto <code>{ min, max }</code> em seu atributo <code>detail</code>.
            </td>
          </tr>

          <tr>
            <th colspan="2" scope="row">Saída</th>
          </tr>

          <tr>
            <td>rangeChange</td>
            <td>
              Evento emitido quando há alteração de valores do intervalo. O componente não trata o <code>debounce</code> da emissão deste evento. É emitido um <code>CustomEvent</code> contendo um objeto <code>{ min, max }</code> em seu atributo <code>detail</code>.
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="col-12">
      <h3 id="exemplos">
        <a href="#exemplos"><i class="fa fa-link"></i></a> Exemplos
      </h3>

      <div class="card">
        <div class="card-header">Básico</div>
        <div class="card-body">
          <pre>var basicRangeSliderConfig = {
  min: 0,
  max: 100
};

CurrencyRangeSlider('basic-range-slider', basicRangeSliderConfig);</pre>
          <div id="basic-range-slider"></div>
        </div>
      </div>

      <div class="card">
        <div class="card-header">Básico</div>
        <div class="card-body">
          <pre>var labelRangeSliderConfig = {
    min: 0,
    max: 100,
    labelPrefix: 'R$ '
  };

CurrencyRangeSlider('label-range-slider', labelRangeSliderConfig);</pre>
          <div id="label-range-slider"></div>
        </div>
      </div>

    </div>
  </div>

  <script type="text/javascript" src="./dist/currency-range-slider.js"></script>
  <script type="text/javascript" src="./dist/main.js"></script>
</body>

</html>